1. POSTMAN API COLLECTION (Import into Postman)

Copy this into a file named:

Geofence_API.postman_collection.json


Then import into Postman.

{
  "info": {
    "name": "Geofence App API Collection",
    "_postman_id": "7f5f7dc1-1234-4aab-9980-geofenceapp",
    "description": "Postman collection for geofence_app APIs",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Send GPS Location",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"user_id\": \"testuser01\",\n  \"lat\": 18.5204,\n  \"lng\": 73.8567\n}"
        },
        "url": {
          "raw": "http://localhost/geofence_app/api_location_update.php",
          "protocol": "http",
          "host": [ "localhost" ],
          "path": [ "geofence_app", "api_location_update.php" ]
        }
      }
    }
  ]
}

âœ… 2. PYTHON SCRIPT TO SEND GPS LOCATION

Create a file:

send_gps.py

import requests
import json

url = "http://localhost/geofence_app/api_location_update.php"

payload = {
    "user_id": "python_user",
    "lat": 18.5204,
    "lng": 73.8567
}

headers = {"Content-Type": "application/json"}

response = requests.post(url, data=json.dumps(payload), headers=headers)

print("Status Code:", response.status_code)
print("Response:", response.text)


Run:

python send_gps.py

âœ… 3. ANDROID / KOTLIN GPS SENDER (FULL WORKING)

Add permission in AndroidManifest.xml:

<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.INTERNET"/>

Kotlin code:
import android.annotation.SuppressLint
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.google.android.gms.location.FusedLocationProviderClient
import com.google.android.gms.location.LocationServices
import okhttp3.*
import org.json.JSONObject
import java.io.IOException

class MainActivity : AppCompatActivity() {

    private lateinit var fusedLocationClient: FusedLocationProviderClient
    private val client = OkHttpClient()

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)
        sendGPS()
    }

    @SuppressLint("MissingPermission")
    private fun sendGPS() {
        fusedLocationClient.lastLocation.addOnSuccessListener { location ->
            if (location != null) {
                val json = JSONObject()
                json.put("user_id", "android_user")
                json.put("lat", location.latitude)
                json.put("lng", location.longitude)

                val body = RequestBody.create(
                    MediaType.parse("application/json; charset=utf-8"),
                    json.toString()
                )

                val request = Request.Builder()
                    .url("http://10.0.2.2/geofence_app/api_location_update.php")
                    .post(body)
                    .build()

                client.newCall(request).enqueue(object : Callback {
                    override fun onFailure(call: Call, e: IOException) {
                        println("Failed: $e")
                    }

                    override fun onResponse(call: Call, response: Response) {
                        println("Server: ${response.body()?.string()}")
                    }
                })
            }
        }
    }
}


âœ” Works on Android Emulator (10.0.2.2 = localhost)
âœ” For real device use your PCâ€™s WiFi IP
Example:

http://192.168.1.5/geofence_app/api_location_update.php

âœ… 4. FLUTTER API CALLER (Ready to Use)

Add HTTP package:

flutter pub add http

Flutter code:
import 'dart:convert';
import 'package:flutter/material.dart';
import 'package:http/http.dart' as http;
import 'package:geolocator/geolocator.dart';

class GPSsender extends StatefulWidget {
  @override
  _GPSsenderState createState() => _GPSsenderState();
}

class _GPSsenderState extends State<GPSsender> {

  Future<void> sendGPS() async {
    Position pos = await Geolocator.getCurrentPosition(
      desiredAccuracy: LocationAccuracy.high,
    );

    final url = Uri.parse("http://192.168.1.5/geofence_app/api_location_update.php");

    final response = await http.post(
      url,
      headers: {"Content-Type": "application/json"},
      body: jsonEncode({
        "user_id": "flutter_user",
        "lat": pos.latitude,
        "lng": pos.longitude
      }),
    );

    print("Response: ${response.body}");
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("Send GPS")),
      body: Center(
        child: ElevatedButton(
          onPressed: sendGPS,
          child: Text("Send Location"),
        ),
      ),
    );
  }
}


Add permissions:

Android/app/src/main/AndroidManifest.xml

<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.INTERNET"/>


iOS Info.plist

<key>NSLocationWhenInUseUsageDescription</key>
<string>We use your location for geofencing.</string>

ðŸŽ‰ READY!

Your project now officially supports:

âœ” Postman testing
âœ” Python GPS script
âœ” Android Kotlin sender
âœ” Flutter GPS sender